<html>
<style>
  input {
    border: 0;
    cursor: pointer;
  }
  button {
    width: 100%;
    background: 0;
    cursor: pointer;
  }
  button[id="STOP"], button[id="CLEAR"], button[id="START"] {
    margin: 2px 2px 2px 2px;
    width: 25%;
  }
  input {
    background: 0;
    border-bottom: 1px solid black;
    margin-bottom: 8px;
  }
  input:focus {
    outline: none;
  }
  input[id=speed] {
    width: 60px;
    margin-bottom: 2px;
    text-align: center;
  }
  input[id=angle] {
    width: 60px;
    margin-bottom: 2px;
    text-align: center;
  }
  table {
    background-color: #acffff;
    border-radius: 5px;
    width: 500;
  }
  .active-td {
    background-color: #52efef;
  }
  .completed-task {
    background-color: #72f984;
  }
  </style>
  <script type="text/javascript">
    const MaxSpeed = 100;
    const MinSpeed = 25;
    var config = {
      "id": "",
      "type": "",
      "direction": "",
      "speed": "",
      "angle": "" 
    };

    function sendRequest(body) {
        let ip = document.querySelector("input[id=ip]").value
        fetch(`http://${ip}:80/?${body}`, {
            method: "GET",
            mode: 'no-cors'
        })
    }
    function updateConfig(key, value) {
      config[key] = value;
    }
    function completeTask(id) {
      document.querySelectorAll("table[id='tasks'] tr")[id+2].className = "completed-task"
    }
    function addButtonClick(){
      config.id = document.querySelectorAll("table[id='tasks'] tr").length - 2
      config.speed = document.querySelector("input[id=speed]").value
      config.angle = document.querySelector("input[id=angle]").value
      document.querySelector("table[id='tasks']").innerHTML += `<tr>
        <td align=center width="8%">
          <font size=1 color=Black face="verdana"><b>${config.id}</b></font>
        </td>
        <td align=center width="23%">
          <font size=1 color=Black face="verdana"><b>${config.type}</b></font>
        </td>
        <td align=center width="23%">
          <font size=1 color=Black face="verdana"><b>${config.direction}</b></font>
        </td>
        <td align=center width="23%">
          <font size=1 color=Black face="verdana"><b>${config.speed}</b></font>
        </td>
        <td align=center width="23%">
          <font size=1 color=Black face="verdana"><b>${config.angle}</b></font>
        </td>
      </tr>`
    }

    function typeButtonClick(element_id) {
        let tButtons = document.querySelectorAll("td.motor-type");
        for (tb of tButtons) {
            tb.className = "motor-type";
        }
        document.querySelector(`td.motor-type[id=${element_id}]`).className = "motor-type active-td";
        updateConfig("type", element_id)
    }
    function dirButtonClick(element_id) {
        let tButtons = document.querySelectorAll("td.direction");
        for (tb of tButtons) {
            tb.className = "direction";
        }
        document.querySelector(`td.direction[id=${element_id}]`).className = "direction active-td";
        updateConfig("direction", element_id)
    }
  </script>
<body>
  <form name="input" method="get">
    <table align=center width=500 border=4>
      <tr>
        <td align=center colspan=2>
            <font size=7 color=Black face="verdana"><b>MOTOR CONTROL</b></font>
            <label for="ip">IP:</label>
            <input type="text" id="ip" name="ip" required placeholder="10.211.55.5"/>
        </td>
      </tr>
      <tr>
        <td align=center colspan=2>
          <font size=2 color=Black face="verdana"><b>Motor Type</b></font>
        </td>
      </tr>
      <tr>
        <td align=center width="50%" class="motor-type" id="Stepper">
            <button type="button" id="Stepper" onclick="typeButtonClick(this.id)">Stepper</button>
        </td>
        <td align=center width="50%" class="motor-type" id="Async">
            <button type="button" id="Async" onclick="typeButtonClick(this.id)">Async</button>
        </td>
      </tr>
      <tr>
        <td align=center colspan=2>
          <font size=2 color=Black face="verdana"><b>Direction</b></font>
        </td>
      </tr>
      <tr>
        <td align=center width="50%" class="direction" id="Left">
            <button type="button" id="Left" onclick="dirButtonClick(this.id)">Left</button>
        </td>
        <td align=center width="50%" class="direction" id="Right">
            <button type="button" id="Right" onclick="dirButtonClick(this.id)">Right</button>
        </td>
      </tr>
      <tr>
        <td align=center colspan=2>
          <font size=2 color=Black face="verdana"><b>Speed:</font>
          <input type="number" id="speed" name="speed" min=10 step=10 required placeholder="10"/>
          <font size=2 color=Black face="verdana"><b>RPM</font>
        </td>
      </tr>
      <tr>
        <td align=center colspan=2>
          <font size=2 color=Black face="verdana"><b>Angle:</font>
          <input type="number" id="angle" name="angle" min=0 required placeholder="1"/>
          <font size=2 color=Black face="verdana"><b>Â°</font>
        </td>
      </tr>
      <tr>
        <td align=center width="50%" colspan="2">
            <button type="button" id="ADD" onclick="addButtonClick()">Add</button>
        </td>
      </tr>
    </table>
    <br>
    <table align=center width=500 border=4 id="tasks">
      <tr>
        <td align=center colspan=5>
            <font size=5 color=Black face="verdana"><b>Tasks</b></font>
        </td>
      </tr>
      <tr>
        <td align=center colspan=5>
            <button type="button" id="START" onclick="">Start</button>
            <button type="button" id="STOP" onclick="">Stop</button>
            <button type="button" id="CLEAR" onclick="">Clear</button>
        </td>
      </tr>
      <tr>
        <td align=center width="8%">
          <font size=2 color=Black face="verdana"><b>ID</b></font>
        </td>
        <td align=center width="23%">
          <font size=2 color=Black face="verdana"><b>Motor</b></font>
        </td>
        <td align=center width="23%">
          <font size=2 color=Black face="verdana"><b>Direction</b></font>
        </td>
        <td align=center width="23%">
          <font size=2 color=Black face="verdana"><b>Speed</b></font>
        </td>
        <td align=center width="23%">
          <font size=2 color=Black face="verdana"><b>Angle</b></font>
        </td>
      </tr>
    </table>
  </form>
</body>
</html>